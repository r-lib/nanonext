PKG_CFLAGS = -I../nano-install/include -DNNG_STATIC_LIB $(C_VISIBILITY)
PKG_LIBS = ../nano-install/lib/libnng.a ../nano-install/lib/libmbedtls.a ../nano-install/lib/libmbedx509.a ../nano-install/lib/libmbedcrypto.a -lbcrypt -liphlpapi -lws2_32

SOURCES = aio.c comms.c core.c dispatcher.c init.c ncurl.c net.c proto.c server.c sync.c thread.c tls.c utils.c
OBJECTS = $(SOURCES:.c=.o)

.PHONY: all cleanup clean

all: cleanup

cleanup: $(SHLIB)
	@rm -rf ../nano-install

$(SHLIB): $(OBJECTS)

clean:
	rm -f $(OBJECTS) $(SHLIB)
