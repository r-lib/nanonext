% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/server.R
\name{handler}
\alias{handler}
\title{Create HTTP Handler}
\usage{
handler(path, callback, method = "GET", tree = FALSE)
}
\arguments{
\item{path}{URI path to match (e.g., "/api/data", "/users").}

\item{callback}{Function to handle requests. Receives a list with:
\itemize{
\item \code{method} - HTTP method (character)
\item \code{uri} - Request URI (character)
\item \code{headers} - Named character vector of headers
\item \code{body} - Request body (raw vector)
}
Should return a list with:
\itemize{
\item \code{status} - HTTP status code (integer, default 200)
\item \code{headers} - Named character vector of response headers (optional)
\item \code{body} - Response body (character or raw)
}}

\item{method}{HTTP method to match (e.g., "GET", "POST", "PUT", "DELETE").
Use NULL to match any method.}

\item{tree}{[default FALSE] Logical, if TRUE matches path as prefix.}
}
\value{
A handler object for use with \code{\link[=http_server]{http_server()}}.
}
\description{
Creates an HTTP route handler for use with \code{\link[=http_server]{http_server()}}.
}
\examples{
\dontrun{
# Simple GET handler
h1 <- handler("/hello", function(req) {
  list(status = 200L, body = "Hello!")
})

# POST handler with JSON
h2 <- handler("/api/submit", function(req) {
  data <- jsonlite::fromJSON(rawToChar(req$body))
  result <- process(data)
  list(
    status = 200L,
    headers = c("Content-Type" = "application/json"),
    body = jsonlite::toJSON(result)
  )
}, method = "POST")

# Catch-all handler for a path prefix
h3 <- handler("/static", function(req) {
  # Serve static files under /static/*
}, method = NULL, tree = TRUE)
}

}
