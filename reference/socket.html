<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Open a Socket implementing &amp;#8216;protocol&amp;#8217;, and optionally dial (establish
    an outgoing connection) or listen (accept an incoming connection) at an
    address."><title>Open Socket — socket • nanonext</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Open Socket — socket"><meta property="og:description" content="Open a Socket implementing &amp;#8216;protocol&amp;#8217;, and optionally dial (establish
    an outgoing connection) or listen (accept an incoming connection) at an
    address."><meta property="og:image" content="https://shikokuchuo.net/nanonext/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nanonext</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9013</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/nanonext.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shikokuchuo/nanonext/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://shikokuchuo.net/">
    <span class="fa fa-cube"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Open Socket</h1>
      <small class="dont-index">Source: <a href="https://github.com/shikokuchuo/nanonext/blob/HEAD/R/socket.R" class="external-link"><code>R/socket.R</code></a></small>
      <div class="d-none name"><code>socket.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Open a Socket implementing ‘protocol’, and optionally dial (establish
    an outgoing connection) or listen (accept an incoming connection) at an
    address.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">socket</span><span class="op">(</span></span>
<span>  protocol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bus"</span>, <span class="st">"pair"</span>, <span class="st">"push"</span>, <span class="st">"pull"</span>, <span class="st">"pub"</span>, <span class="st">"sub"</span>, <span class="st">"req"</span>, <span class="st">"rep"</span>, <span class="st">"surveyor"</span>,</span>
<span>    <span class="st">"respondent"</span><span class="op">)</span>,</span>
<span>  dial <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  listen <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tls <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  autostart <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>protocol</dt>
<dd><p>[default 'bus'] choose protocol - ‘bus’, ‘pair’,
‘push’, ‘pull’, ‘pub’, ‘sub’, ‘req’,
‘rep’, ‘surveyor’, or ‘respondent’ - see
<a href="protocols.html">protocols</a>.</p></dd>


<dt>dial</dt>
<dd><p>(optional) a URL to dial, specifying the transport and address as
a character string e.g. 'inproc://anyvalue' or 'tcp://127.0.0.1:5555'
(see <a href="transports.html">transports</a>).</p></dd>


<dt>listen</dt>
<dd><p>(optional) a URL to listen at, specifying the transport and
address as a character string e.g. 'inproc://anyvalue' or
'tcp://127.0.0.1:5555' (see <a href="transports.html">transports</a>).</p></dd>


<dt>tls</dt>
<dd><p>[default NULL] for secure tls+tcp:// or wss:// connections only,
provide a TLS configuration object created by <code><a href="tls_config.html">tls_config</a></code>.</p></dd>


<dt>autostart</dt>
<dd><p>[default TRUE] whether to start the dialer/listener. Set to
FALSE if setting configuration options on the dialer/listener as it is
not generally possible to change these once started. For dialers only:
set to NA to start synchronously - this is less resilient if a
connection is not immediately possible, but avoids subtle errors from
attempting to use the socket before an asynchronous dial has completed.</p></dd>


<dt>raw</dt>
<dd><p>[default FALSE] whether to open raw mode sockets. Note: not for
general use - do not enable unless you have a specific need (refer to NNG
documentation).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A Socket (object of class ‘nanoSocket’ and ‘nano’).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>NNG presents a socket view of networking. The sockets are
    constructed using protocol-specific functions, as a given socket
    implements precisely one protocol.</p>
<p>Each socket may be used to send and receive messages (if the protocol
    supports it, and implements the appropriate protocol semantics). For
    example, sub sockets automatically filter incoming messages to discard
    those for topics that have not been subscribed.</p>
<p>This function (optionally) binds a single Dialer and/or Listener to a
    Socket. More complex network topologies may be created by binding further
    Dialers/Listeners to the Socket as required using <code><a href="dial.html">dial</a></code> and
    <code><a href="listen.html">listen</a></code>.</p>
<p>New contexts may also be created using <code><a href="context.html">context</a></code> if the
    protocol supports it.</p>
    </div>
    <div class="section level2">
    <h2 id="protocols">Protocols<a class="anchor" aria-label="anchor" href="#protocols"></a></h2>
    


<p>The following Scalability Protocols (communication patterns) are
    implemented:</p><ul><li><p>Bus (mesh networks) - protocol: 'bus'</p></li>
<li><p>Pair (two-way radio) - protocol: 'pair'</p></li>
<li><p>Pipeline (one-way pipe) - protocol: 'push', 'pull'</p></li>
<li><p>Publisher/Subscriber (topics &amp; broadcast) - protocol: 'pub', 'sub'</p></li>
<li><p>Request/Reply (RPC) - protocol: 'req', 'rep'</p></li>
<li><p>Survey (voting &amp; service discovery) - protocol: 'surveyor',
    'respondent'</p></li>
</ul><p>Please see <a href="protocols.html">protocols</a> for further documentation.</p>
    </div>
    <div class="section level2">
    <h2 id="transports">Transports<a class="anchor" aria-label="anchor" href="#transports"></a></h2>
    


<p>The following communications transports may be used:</p><ul><li><p>Inproc (in-process) - url: 'inproc://'</p></li>
<li><p>IPC (inter-process communications) - url: 'ipc://' (or
    'abstract://' on Linux)</p></li>
<li><p>TCP and TLS over TCP - url: 'tcp://' and 'tls+tcp://'</p></li>
<li><p>WebSocket and TLS over WebSocket - url: 'ws://' and 'wss://'</p></li>
</ul><p>Please see <a href="transports.html">transports</a> for further documentation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">socket</span><span class="op">(</span>protocol <span class="op">=</span> <span class="st">"req"</span>, listen <span class="op">=</span> <span class="st">"inproc://nanosocket"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">s</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; nanoSocket &gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - id: 46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - state: opened</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - protocol: req</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - listener:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     inproc://nanosocket</span>
<span class="r-in"><span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu">socket</span><span class="op">(</span>protocol <span class="op">=</span> <span class="st">"rep"</span>, dial <span class="op">=</span> <span class="st">"inproc://nanosocket"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">s1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt; nanoSocket &gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - id: 47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - state: opened</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - protocol: rep</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - dialer:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     inproc://nanosocket</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="send.html">send</a></span><span class="op">(</span><span class="va">s</span>, <span class="st">"hello world!"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="fu"><a href="recv.html">recv</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hello world!"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="close.html">close</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="close.html">close</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Charlie Gao, <img src="https://www.r-consortium.org/wp-content/uploads/sites/13/2016/09/RConsortium_Horizontal_Pantone.png" alt="R Consortium" width="100">.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

